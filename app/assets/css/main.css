@import 'tailwindcss';
@import '@nuxt/ui';

@theme {
    --color-brand-50: oklch(97% 0.014 235);
    --color-brand-100: oklch(93% 0.035 235);
    --color-brand-200: oklch(87% 0.07 235);
    --color-brand-300: oklch(78% 0.11 235);
    --color-brand-400: oklch(66% 0.14 235);
    --color-brand-500: oklch(54% 0.15 235);
    --color-brand-600: oklch(46% 0.14 235);
    --color-brand-700: oklch(39% 0.13 235);
    --color-brand-800: oklch(33% 0.10 235);
    --color-brand-900: oklch(27% 0.07 235);
    --color-brand-950: oklch(21% 0.05 235);

    --shadow-popup: 0 6px 18px rgb(0 0 0 / 0.12), 0 2px 6px rgb(0 0 0 / 0.06);
}

:root {
    --ui-primary: var(--color-brand-700);
    --app-window-bg: var(--ui-bg, #ffffff);

    /* Chrome surfaces (tab bar, toolbar) */
    --app-chrome: color-mix(in oklab, var(--ui-bg) 35%, var(--ui-border) 65%);
    --app-chrome-hover: color-mix(in oklab, var(--ui-bg) 55%, var(--ui-border) 45%);
    --app-chrome-subtle-hover: color-mix(in oklab, var(--ui-border) 45%, transparent);
    --app-toolbar-control-hover-bg: var(--app-chrome-hover);
    --app-toolbar-control-active-bg: color-mix(in oklab, var(--ui-bg) 88%, var(--ui-text) 12%);
    --app-toolbar-control-active-hover-bg: color-mix(in oklab, var(--ui-bg) 84%, var(--ui-text) 16%);
    --app-toolbar-control-inactive-fg: color-mix(in oklab, var(--ui-text) 88%, var(--ui-text-muted) 12%);
    --app-toolbar-control-hover-fg: var(--ui-text);
    --app-toolbar-control-disabled-fg: color-mix(in oklab, var(--ui-text-muted) 88%, var(--ui-border) 12%);
    --app-toolbar-control-disabled-opacity: 0.4;
    --app-toolbar-group-border: var(--ui-border);
    --app-toolbar-focus-ring: color-mix(in oklab, var(--ui-border) 68%, var(--ui-text) 32%);
    --app-editor-group-grid-bg: var(--app-window-bg);
    --app-editor-group-border: var(--ui-border);
    --app-editor-group-border-active: color-mix(in oklab, var(--ui-primary) 55%, var(--ui-border) 45%);
    --app-editor-sash-size: 6px;
    --app-editor-sash-bg: color-mix(in oklab, var(--ui-border) 68%, transparent);
    --app-editor-sash-bg-hover: color-mix(in oklab, var(--ui-primary) 45%, var(--ui-border) 55%);
    --app-status-bar-bg: color-mix(in oklab, var(--ui-bg) 95%, var(--ui-bg-elevated) 5%);
    --app-status-bar-divider: color-mix(in oklab, var(--ui-border) 86%, transparent 14%);
    --app-status-folder-hover-bg: color-mix(in oklab, var(--ui-bg) 72%, var(--ui-border) 28%);
    --app-status-folder-hover-border: color-mix(in oklab, var(--ui-border) 78%, transparent 22%);
    --app-status-save-dot-idle-bg: color-mix(in oklab, var(--ui-text-dimmed) 72%, var(--ui-bg) 28%);
    --app-status-save-dot-idle-ring: color-mix(in oklab, var(--ui-bg) 36%, var(--ui-border) 64%);
    --app-status-save-dot-dirty-bg: oklch(76% 0.16 74);
    --app-status-save-dot-dirty-ring: oklch(52% 0.09 64);
    --app-status-save-dot-clean-bg: oklch(64% 0.16 147);
    --app-status-save-dot-clean-ring: oklch(44% 0.11 147);
    --app-status-save-dot-saving-bg: oklch(61% 0.18 259);
    --app-status-save-dot-saving-ring: oklch(43% 0.10 259);
    --app-pdf-viewer-bg: var(--ui-bg-muted);
    --app-snip-cutout-fill: color-mix(in oklab, var(--ui-bg) 62%, transparent);
    --app-snip-selection-border: color-mix(in oklab, var(--ui-primary) 90%, var(--ui-bg) 10%);
    --app-snip-selection-border-width: 1.5px;
    --app-snip-selection-radius: 2px;
    --app-snip-flash-border: var(--ui-primary);
    --app-snip-flash-fill: color-mix(in oklab, var(--ui-bg) 60%, var(--ui-primary) 40%);
    --app-snip-flash-glow: color-mix(in oklab, var(--ui-primary) 36%, transparent);
    --app-snip-badge-bg: color-mix(in oklab, var(--ui-bg) 78%, var(--ui-primary) 22%);
    --app-snip-badge-fg: var(--ui-text-highlighted);
    --app-snip-badge-border: color-mix(in oklab, var(--ui-primary) 45%, var(--ui-border) 55%);
    --app-snip-badge-shadow: var(--shadow-popup);
    --app-snip-badge-padding: 0.35rem 0.6rem;
    --app-snip-badge-radius: 999px;
    --app-snip-badge-font-size: 0.74rem;
    --app-snip-hint-bg: color-mix(in oklab, var(--ui-bg) 88%, var(--ui-border) 12%);
    --app-snip-hint-fg: var(--ui-text-muted);
    --app-snip-hint-border: var(--ui-border);
    --app-snip-hint-padding: 0.33rem 0.55rem;
    --app-snip-hint-radius: 999px;
    --app-snip-hint-font-size: 0.7rem;
    --app-snip-hint-offset-top: 0.65rem;

    --app-scrollbar-size: 12px;
    --app-scrollbar-track: transparent;
    --app-scrollbar-thumb: color-mix(in oklab, var(--ui-border) 55%, var(--ui-text-muted) 45%);
    --app-scrollbar-thumb-hover: color-mix(in oklab, var(--ui-border) 35%, var(--ui-text-muted) 65%);
    --pdfjs-comment-edit-icon: url('/pdfjs/comment-editButton.svg');
    --pdfjs-comment-popup-edit-icon: url('/pdfjs/comment-popup-editButton.svg');
    --pdfjs-comment-close-icon: url('/pdfjs/comment-closeButton.svg');
    --pdfjs-highlight-icon: url('/pdfjs/toolbarButton-editorHighlight.svg');
    --pdfjs-delete-icon: url('/pdfjs/editor-toolbar-delete.svg');
    --comment-edit-button-icon: var(--pdfjs-comment-edit-icon);
    --comment-popup-edit-button-icon: var(--pdfjs-comment-popup-edit-icon);
    --comment-popup-delete-button-icon: var(--pdfjs-delete-icon);
    --comment-close-button-icon: var(--pdfjs-comment-close-icon);
    --editor-toolbar-highlight-image: var(--pdfjs-highlight-icon);
    --editor-toolbar-delete-image: var(--pdfjs-delete-icon);
}

.dark {
    --ui-primary: var(--color-brand-200);
    --app-window-bg: var(--ui-bg, #18181b);
    --app-scrollbar-thumb: color-mix(in oklab, var(--ui-border) 35%, var(--ui-text-muted) 65%);
    --app-scrollbar-thumb-hover: color-mix(in oklab, var(--ui-border) 20%, var(--ui-text-muted) 80%);
    --app-toolbar-control-hover-bg: color-mix(in oklab, var(--ui-bg) 60%, var(--ui-border) 40%);
    --app-toolbar-control-active-bg: color-mix(in oklab, var(--ui-bg) 82%, var(--ui-text) 18%);
    --app-toolbar-control-active-hover-bg: color-mix(in oklab, var(--ui-bg) 78%, var(--ui-text) 22%);
    --app-toolbar-control-inactive-fg: color-mix(in oklab, var(--ui-text) 84%, var(--ui-text-muted) 16%);
    --app-toolbar-control-hover-fg: var(--ui-text);
    --app-toolbar-control-disabled-fg: color-mix(in oklab, var(--ui-text-muted) 86%, var(--ui-border) 14%);
    --app-toolbar-control-disabled-opacity: 0.38;
    --app-toolbar-group-border: color-mix(in oklab, var(--ui-border) 72%, var(--ui-text-muted) 28%);
    --app-toolbar-focus-ring: color-mix(in oklab, var(--ui-border) 58%, var(--ui-text) 42%);
    --app-editor-group-border: color-mix(in oklab, var(--ui-border) 75%, var(--ui-text-muted) 25%);
    --app-editor-group-border-active: color-mix(in oklab, var(--ui-primary) 62%, var(--ui-border) 38%);
    --app-editor-sash-bg: color-mix(in oklab, var(--ui-border) 80%, transparent);
    --app-editor-sash-bg-hover: color-mix(in oklab, var(--ui-primary) 58%, var(--ui-border) 42%);
    --app-status-bar-bg: color-mix(in oklab, var(--ui-bg) 86%, var(--ui-bg-elevated) 14%);
    --app-status-bar-divider: color-mix(in oklab, var(--ui-border) 72%, transparent 28%);
    --app-status-folder-hover-bg: color-mix(in oklab, var(--ui-bg-elevated) 82%, var(--ui-border) 18%);
    --app-status-folder-hover-border: color-mix(in oklab, var(--ui-border) 68%, transparent 32%);
    --app-status-save-dot-idle-bg: color-mix(in oklab, var(--ui-text-dimmed) 80%, var(--ui-bg) 20%);
    --app-status-save-dot-idle-ring: color-mix(in oklab, var(--ui-border) 72%, transparent 28%);
    --app-status-save-dot-dirty-bg: oklch(78% 0.15 74);
    --app-status-save-dot-dirty-ring: oklch(60% 0.10 66);
    --app-status-save-dot-clean-bg: oklch(69% 0.15 147);
    --app-status-save-dot-clean-ring: oklch(53% 0.10 147);
    --app-status-save-dot-saving-bg: oklch(68% 0.16 259);
    --app-status-save-dot-saving-ring: oklch(51% 0.10 259);
    --app-pdf-viewer-bg: color-mix(in oklab, var(--ui-bg-muted) 88%, var(--ui-text) 12%);
    --app-snip-cutout-fill: color-mix(in oklab, var(--ui-bg) 55%, transparent);
    --app-snip-flash-fill: color-mix(in oklab, var(--ui-bg-elevated) 45%, var(--ui-primary) 55%);
    --app-snip-flash-glow: color-mix(in oklab, var(--ui-primary) 44%, transparent);
    --app-snip-badge-bg: color-mix(in oklab, var(--ui-bg-elevated) 74%, var(--ui-primary) 26%);
    --app-snip-badge-fg: var(--ui-text-highlighted);
    --app-snip-badge-border: color-mix(in oklab, var(--ui-primary) 52%, var(--ui-border) 48%);
    --app-snip-hint-bg: color-mix(in oklab, var(--ui-bg-elevated) 86%, var(--ui-border) 14%);
    --app-snip-hint-fg: var(--ui-text);
    --app-snip-hint-border: color-mix(in oklab, var(--ui-border) 80%, var(--ui-text-muted) 20%);
}

.app-scrollbar {
    scrollbar-color: var(--app-scrollbar-thumb) var(--app-scrollbar-track);
}

.app-scrollbar::-webkit-scrollbar {
    width: var(--app-scrollbar-size);
    height: var(--app-scrollbar-size);
}

.app-scrollbar::-webkit-scrollbar-track {
    background: var(--app-scrollbar-track);
    border-radius: 999px;
}

.app-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--app-scrollbar-thumb);
    border-radius: 999px;
    border: 1px solid transparent;
    background-clip: padding-box;
    min-height: 24px;
}

.app-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: var(--app-scrollbar-thumb-hover);
}

.app-scrollbar::-webkit-scrollbar-corner {
    background: transparent;
}

html,
body,
#__nuxt {
    background-color: var(--app-window-bg, #ffffff);
    user-select: none;
}

input,
textarea,
[contenteditable='true'],
.pdfViewer .text-layer,
.pdfViewer .text-layer span,
.pdfViewer .text-layer br {
    user-select: text;
}
